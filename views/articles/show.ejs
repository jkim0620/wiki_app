<!DOCTYPE html>
<html>
  <head>
    <%- include ./partials/head.ejs %>
  </head>
  <body>
    <%- include ./partials/hide-nav.ejs %>

    <div class="show-wrapper">
      <div class="container">
        <div class="wrapper">
          <div class="article-wrapper">
            <img src="<%= article.img_url %>" alt="">
            <div class="article-container">
              <p class="category-font"><%= article.category %></p>
              <p class="title-font"><%= article.title %></p>
              <p class="author-font"><%= article.author %></p>
              <p class="date-font"><%= article.date_created %></p>
              <p class="content-font"><%= article.content %></p>
            </div>
            <div class="edit-btn">EDIT</div>
            <a href="/articles?category=<%= article.category %>"><div class="back-btn">BACK</div></a>
          </div>
        </div>
      </div>

      <!-- Hidden modal for edit form -->
      <div class="edit-modal-container">
        <div class="edit-modal-content">
          <form class="edit-form" method="POST" action="/articles/<%= article.id %>?_method=put">
            <div class="input-title">
              Title
            </div>
            <div>
              <input type="text" name="article[title]" placeholder="title" value="<%= article.title %>">
            </div>
            <div class="input-title">
              Image
            </div>
            <div>
              <input type="text" name="article[img_url]" placeholder="image url" value="<%= article.img_url %>">
            </div>
            <div class="input-title">
              Text Field
            </div>
            <div>
              <textarea name="article[content]" placeholder="write"><%= article.content %></textarea>
            </div>
            <div class="input-title">
              Category
            </div>
            <div>
              <select class="" name="article[category]">
                <option value="Culture" <%= article.category === "Culture" ? "selected" : "" %>>Culture</option>
                <option value="Art and Design" <%= article.category === "Art and Design" ? "selected" : "" %>>Art and Design</option>
                <option value="Architecture" <%= article.category === "Architecture" ? "selected" : "" %>>Architecture</option>
                <option value="People" <%= article.category === "People" ? "selected" : "" %>>People</option>
              </select>
            </div>
            <div class="input-title">
              Author
            </div>
            <div>
              <input type="text" name="article[author]" placeholder="name" value="<%= article.author %>">
            </div>
            <div>
              <input type="hidden" name="article[id]" value="<%= article.id %>">
            </div>
            <button class="submit-change-btn" type="submit">SUBMIT</button>
            <div class="close-edit-modal-btn">CLOSE</div>
          </form>
          <!-- button container -->
          <div class="row btn-container">
            <div class="col s2 push-s10">
              <div class="open-modal-btn"><i class="fa fa-trash fa-1x" aria-hidden="true"></i></div>
            </div>
          </div> <!-- /button -->
        </div> <!-- /edit-modal-content -->
      </div> <!-- /end of edit-modal-container -->

      <!-- Hidden modal for delete confirmation -->
      <div class="delete-modal-container">
        <div class="delete-modal-content">
          <p>
            Are you sure you want to delete?
          </p>
          <button class="delete-article" data-id=<%= article.id %>>DELETE</button>
          <div class="close-modal-btn">CLOSE</div>
        </div>
      </div> <!-- /end of delete modal -->

      <%- include ./partials/footer.ejs %>
      
    </div>
  </body>
</html>
